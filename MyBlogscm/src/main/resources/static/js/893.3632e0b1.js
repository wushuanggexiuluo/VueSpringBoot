(self["webpackChunkourblog"]=self["webpackChunkourblog"]||[]).push([[893],{6441:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});a(4916);var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pageDataCls"},[t("div",[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[t("el-form-item",{attrs:{label:"搜名称"}},[t("el-input",{attrs:{placeholder:"随便输入"},model:{value:e.search.categoryName,callback:function(t){e.$set(e.search,"categoryName",t)},expression:"search.categoryName"}})],1),t("el-form-item",{attrs:{label:"搜描述"}},[t("el-input",{attrs:{placeholder:"随便输入"},model:{value:e.search.categoryDescription,callback:function(t){e.$set(e.search,"categoryDescription",t)},expression:"search.categoryDescription"}})],1)],1)],1),t("div",{staticStyle:{display:"flex"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),t("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){e.dialogVisibleAdd=!0}}},[e._v("新增")]),t("el-button",{attrs:{type:"danger",plain:""},on:{click:e.manyRemoveData}},[e._v("批量删除")])],1),[t("el-table",{ref:"clearCheckBox",staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"50"}}),t("el-table-column",{attrs:{label:"序号",type:"index",width:"48"}}),t("el-table-column",{attrs:{align:"center",prop:"categoryId",label:"标签ID"}}),t("el-table-column",{attrs:{align:"center",prop:"categoryName",label:"标签名",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("el-tag",{attrs:{size:"medium"}},[e._v(e._s(a.row.categoryName))])],1)]}}])}),t("el-table-column",{attrs:{align:"center",prop:"categoryDescription",label:"标签描述"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popover",{attrs:{trigger:"hover",placement:"top"}},[t("p",[e._v(e._s(a.row.categoryDescription))]),t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(a.row.categoryDescription)+" ")])])]}}])}),t("el-table-column",{attrs:{align:"center",prop:"categoryIcon",label:"图标"}}),t("el-table-column",{attrs:{align:"center",prop:"operation",label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.editData(a.row)}}},[e._v("修改")]),t("br"),t("br"),t("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.removeData(a.row)}}},[e._v("删除")])]}}])})],1)],t("el-pagination",{attrs:{small:"","pager-count":1,"current-page":e.currentPage,"page-sizes":[5,10,15,20],"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),t("el-dialog",{staticClass:"el-dialog11",attrs:{fullscreen:!0,modal:!1,title:"新增标签",visible:e.dialogVisibleAdd,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisibleAdd=t}}},[t("el-form",{attrs:{"label-width":"80px",model:e.addForm}},[t("el-form-item",{attrs:{label:"名称"}},[t("el-input",{model:{value:e.addForm.categoryName,callback:function(t){e.$set(e.addForm,"categoryName",t)},expression:"addForm.categoryName"}})],1),t("el-form-item",{attrs:{label:"描述"}},[t("el-input",{model:{value:e.addForm.categoryDescription,callback:function(t){e.$set(e.addForm,"categoryDescription",t)},expression:"addForm.categoryDescription"}})],1),t("img",{staticStyle:{width:"148px",height:"148px"},attrs:{alt:"请上传图标",src:e.addForm.categoryIcon}}),t("el-upload",{attrs:{action:"","list-type":"picture-card","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[t("div",[e._v("点击上传上传图标")])]),t("el-table-column",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-evenly"},attrs:{label:"操作",fixed:"right"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.AddCli}},[e._v("提交")]),t("br"),t("el-button",{attrs:{type:"danger"},on:{click:e.updateCancel}},[e._v("取消")])],1)],1)],1),t("el-dialog",{staticClass:"el-dialog11",attrs:{fullscreen:!0,modal:!1,title:"修改标签",visible:e.dialogVisibleUpdate,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisibleUpdate=t}}},[t("el-form",{attrs:{"label-width":"80px",model:e.updateForm}},[t("el-form-item",{attrs:{label:"名称"}},[t("el-input",{model:{value:e.updateForm.categoryName,callback:function(t){e.$set(e.updateForm,"categoryName",t)},expression:"updateForm.categoryName"}})],1),t("el-form-item",{attrs:{label:"描述"}},[t("el-input",{model:{value:e.updateForm.categoryDescription,callback:function(t){e.$set(e.updateForm,"categoryDescription",t)},expression:"updateForm.categoryDescription"}})],1),t("img",{staticStyle:{width:"148px",height:"148px"},attrs:{alt:"请上传图标",src:e.updateForm.categoryIcon}}),t("el-upload",{attrs:{action:"","list-type":"picture-card","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[t("div",[e._v("点击上传上传图标")])]),t("el-table-column",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-evenly"},attrs:{label:"操作",fixed:"right"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.UpadetCli}},[e._v("提交")]),t("br"),t("el-button",{attrs:{type:"danger"},on:{click:e.updateCancel}},[e._v("取消")])],1)],1)],1)],2)},r=[],o=(a(3948),a(285),a(1637),a(7658),a(7025)),i=a(4973),s=a(1684),n={name:"TagFact",mounted(){this.selectAll()},methods:{handleAvatarSuccess(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload(e){const t=e.type,a=e.size/1024/1024<3;let l="";if("image/jpeg"!==t&&"image/png"!==t&&(l+="上传封面图片只能是 JPG或PNG格式!"),a||(l+="上传封面图片大小不能超过 3MB!"),l.length>0)this.$message.error(l);else{let t=this;this.file=e;let a={file:e};this.$http.post(s.q+"/Upload",a,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{t.addForm.categoryIcon=e.data.data,t.updateForm.categoryIcon=e.data.data}))}return l.length<=0},updateCancel(){this.dialogVisibleAdd=!1,this.dialogVisibleUpdate=!1,this.QingKongCli()},ZanCunCli(){},QingKongCli(){this.updateForm={}},AddCli(){null!==this.addForm&&this.$http.post(s.q+"/Admin/addTag",this.addForm).then((e=>{e.data.code===i.Z.data().SAVE_OK?i.Z.methods.AddOk(this):i.Z.methods.AddErr(this,e.data.message)}))},UpadetCli(){o.fS.updateData(this,this.updateForm,s.q+"/Admin/updateTag"),this.dialogVisibleUpdate=!1,this.QingKongCli()},handleSizeChange(e){this.pageSize=e,this.selectAll()},handleCurrentChange(e){this.currentPage=e,this.selectAll()},selectAll(){var e={currPage:this.currentPage,pageSize:this.pageSize,search:this.search};o.bt.selectPage(this,e,s.q+"/Admin/getTagPage")},onSubmit(){this.selectAll()},handleClose(){this.dialogVisibleAdd=!1,this.dialogVisibleUpdate=!1},tableRowClassName({row:e,rowIndex:t}){return 1===t?"warning-row":3===t?"success-row":""},editData(e){this.dialogVisibleUpdate=!0,this.updateForm=e},removeData(e){var t=[e.categoryId];o.Pp.removeData(this,t,s.q+"/Admin/removeTag")},toggleSelection(e){e?e.forEach((e=>{this.$refs.clearCheckBox.toggleRowSelection(e)})):this.$refs.clearCheckBox.clearSelection()},manyRemoveData(){let e=[];for(let t=0;t<this.multipleSelection.length;t++)e.push(this.multipleSelection[t].categoryId);e.length>0?o.Pp.removeData(this,e,s.q+"/Admin/removeTag"):i.Z.methods.IllegalDelete(this)},handleSelectionChange(e){this.multipleSelection=e}},data(){return{addForm:{},updateForm:{},totalCount:0,checkedDatas:[],total:400,currentPage:1,pageSize:5,dialogVisibleAdd:!1,dialogVisibleUpdate:!1,tableData:[],selectedIds:[],multipleSelection:[],search:{categoryName:"",categoryDescription:""}}}},c=n,d=a(1001),p=(0,d.Z)(c,l,r,!1,null,"2ce7a858",null),u=p.exports},2844:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});a(4916);var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pageDataCls"},[t("div",[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[t("el-form-item",{attrs:{label:"搜名称"}},[t("el-input",{attrs:{placeholder:"随便输入"},model:{value:e.search.categoryName,callback:function(t){e.$set(e.search,"categoryName",t)},expression:"search.categoryName"}})],1),t("el-form-item",{attrs:{label:"搜描述"}},[t("el-input",{attrs:{placeholder:"随便输入"},model:{value:e.search.categoryDescription,callback:function(t){e.$set(e.search,"categoryDescription",t)},expression:"search.categoryDescription"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1),t("div",{staticStyle:{display:"flex"}},[t("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){e.dialogVisibleAdd=!0}}},[e._v("新增")]),t("el-button",{attrs:{type:"danger",plain:""},on:{click:e.manyRemoveData}},[e._v("批量删除")])],1),[t("el-table",{ref:"clearCheckBox",staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"50"}}),t("el-table-column",{attrs:{label:"序号",type:"index",width:"48"}}),t("el-table-column",{attrs:{align:"center",prop:"categoryId",label:"标签ID"}}),t("el-table-column",{attrs:{align:"center",prop:"categoryName",label:"标签名",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("el-tag",{attrs:{size:"medium"}},[e._v(e._s(a.row.categoryName))])],1)]}}])}),t("el-table-column",{attrs:{align:"center",prop:"categoryDescription",label:"标签描述"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popover",{attrs:{trigger:"hover",placement:"top"}},[t("p",[e._v(e._s(a.row.categoryDescription))]),t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(a.row.categoryDescription)+" ")])])]}}])}),t("el-table-column",{attrs:{align:"center",prop:"categoryIcon",label:"图标"}}),t("el-table-column",{attrs:{align:"center",prop:"operation",label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.editData(a.row)}}},[e._v("修改")]),t("br"),t("br"),t("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.removeData(a.row)}}},[e._v("删除")])]}}])})],1)],t("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[5,10,15,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),t("el-dialog",{staticClass:"el-dialog11",attrs:{fullscreen:!0,modal:!1,title:"新增标签",visible:e.dialogVisibleAdd,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisibleAdd=t}}},[t("el-form",{attrs:{"label-width":"80px",model:e.addForm}},[t("el-form-item",{attrs:{label:"名称"}},[t("el-input",{model:{value:e.addForm.categoryName,callback:function(t){e.$set(e.addForm,"categoryName",t)},expression:"addForm.categoryName"}})],1),t("el-form-item",{attrs:{label:"描述"}},[t("el-input",{model:{value:e.addForm.categoryDescription,callback:function(t){e.$set(e.addForm,"categoryDescription",t)},expression:"addForm.categoryDescription"}})],1),t("img",{staticStyle:{width:"148px",height:"148px"},attrs:{alt:"请上传图标",src:e.addForm.categoryIcon}}),t("el-upload",{attrs:{action:"","list-type":"picture-card","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[t("div",[e._v("点击上传上传图标")])]),t("el-table-column",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-evenly"},attrs:{label:"操作",fixed:"right"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.AddCli}},[e._v("提交")]),t("br"),t("el-button",{attrs:{type:"danger"},on:{click:e.updateCancel}},[e._v("取消")])],1)],1)],1),t("el-dialog",{staticClass:"el-dialog11",attrs:{fullscreen:!0,modal:!1,title:"修改标签",visible:e.dialogVisibleUpdate,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisibleUpdate=t}}},[t("el-form",{attrs:{"label-width":"80px",model:e.updateForm}},[t("el-form-item",{attrs:{label:"名称"}},[t("el-input",{model:{value:e.updateForm.categoryName,callback:function(t){e.$set(e.updateForm,"categoryName",t)},expression:"updateForm.categoryName"}})],1),t("el-form-item",{attrs:{label:"描述"}},[t("el-input",{model:{value:e.updateForm.categoryDescription,callback:function(t){e.$set(e.updateForm,"categoryDescription",t)},expression:"updateForm.categoryDescription"}})],1),t("img",{staticStyle:{width:"148px",height:"148px"},attrs:{alt:"请上传图标",src:e.updateForm.categoryIcon}}),t("el-upload",{attrs:{action:"","list-type":"picture-card","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[t("div",[e._v("点击上传上传图标")])]),t("el-table-column",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-evenly"},attrs:{label:"操作",fixed:"right"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.UpadetCli}},[e._v("提交")]),t("br"),t("el-button",{attrs:{type:"danger"},on:{click:e.updateCancel}},[e._v("取消")])],1)],1)],1)],2)},r=[],o=(a(3948),a(285),a(1637),a(7658),a(7025)),i=a(4973),s=a(1684),n={name:"TagFact",mounted(){this.selectAll()},methods:{handleAvatarSuccess(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload(e){const t=e.type,a=e.size/1024/1024<3;let l="";if("image/jpeg"!==t&&"image/png"!==t&&(l+="上传封面图片只能是 JPG或PNG格式!"),a||(l+="上传封面图片大小不能超过 3MB!"),l.length>0)this.$message.error(l);else{let t=this;this.file=e;let a={file:e};this.$http.post(s.q+"/Upload",a,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{t.addForm.categoryIcon=e.data.data,t.updateForm.categoryIcon=e.data.data}))}return l.length<=0},updateCancel(){this.dialogVisibleAdd=!1,this.dialogVisibleUpdate=!1,this.QingKongCli()},ZanCunCli(){},QingKongCli(){this.updateForm={}},AddCli(){null!==this.addForm&&this.$http.post(s.q+"/Admin/addTag",this.addForm).then((e=>{e.data.code===i.Z.data().SAVE_OK?i.Z.methods.AddOk(this):i.Z.methods.AddErr(this,e.data.message)}))},UpadetCli(){o.fS.updateData(this,this.updateForm,s.q+"/Admin/updateTag"),this.dialogVisibleUpdate=!1,this.QingKongCli()},handleSizeChange(e){this.pageSize=e,this.selectAll()},handleCurrentChange(e){this.currentPage=e,this.selectAll()},selectAll(){var e={currPage:this.currentPage,pageSize:this.pageSize,search:this.search};o.bt.selectPage(this,e,s.q+"/Admin/getTagPage")},onSubmit(){this.selectAll()},handleClose(){this.dialogVisibleAdd=!1,this.dialogVisibleUpdate=!1},tableRowClassName({row:e,rowIndex:t}){return 1===t?"warning-row":3===t?"success-row":""},editData(e){this.dialogVisibleUpdate=!0,this.updateForm=e},removeData(e){var t=[e.categoryId];o.Pp.removeData(this,t,s.q+"/Admin/removeTag")},toggleSelection(e){e?e.forEach((e=>{this.$refs.clearCheckBox.toggleRowSelection(e)})):this.$refs.clearCheckBox.clearSelection()},manyRemoveData(){let e=[];for(let t=0;t<this.multipleSelection.length;t++)e.push(this.multipleSelection[t].categoryId);e.length>0?o.Pp.removeData(this,e,s.q+"/Admin/removeTag"):i.Z.methods.IllegalDelete(this)},handleSelectionChange(e){this.multipleSelection=e}},data(){return{addForm:{},updateForm:{},totalCount:0,checkedDatas:[],total:400,currentPage:1,pageSize:5,dialogVisibleAdd:!1,dialogVisibleUpdate:!1,tableData:[],selectedIds:[],multipleSelection:[],search:{categoryName:"",categoryDescription:""}}}},c=n,d=a(1001),p=(0,d.Z)(c,l,r,!1,null,"263399da",null),u=p.exports},7025:function(e,t,a){"use strict";a.d(t,{Pp:function(){return r},bt:function(){return o},fS:function(){return i}});var l=a(4973);const r={removeData(e,t,a){e.$confirm("此操作将永远删除条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((()=>{e.$http.post(a,t).then((t=>{t.data.code===l.Z.data().DELETE_OK?(e.$message.success(t.data.message),e.selectAll()):l.Z.methods.deleteErr(e)}))})).catch((()=>{l.Z.methods.deleteCancel(e)}))}},o={selectPage(e,t,a){var l=e;e.$http.post(a,t).then((e=>{l.tableData=e.data.data.pageDataList,l.totalCount=e.data.data.total}))},selectAll(e,t){var a=e;e.$http.get(t).then((e=>{a.tableData=e.data.data}))},selectAllBySearchData(e,t,a){var l=e;e.$http.post(a,t).then((e=>{l.tableData=e.data.data}))}},i={updateData(e,t,a){let r=e;e.$http.post(a,t).then((t=>{t.data.code===l.Z.data().UPDATE_OK?(r.$message.success(t.data.message),r.selectAll()):l.Z.methods.updateErr(e)}))}}},3893:function(e,t,a){var l={"./mobile/ManageFact/TagFact":6441,"./pc/ManageFact/TagFact":2844};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}r.keys=function(){return Object.keys(l)},r.resolve=o,e.exports=r,r.id=3893}}]);
//# sourceMappingURL=893.3632e0b1.js.map